(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{600:function(s,n,a){s.exports=a.p+"assets/img/image-20200421154419272.be4e6ac8.png"},697:function(s,n,a){"use strict";a.r(n);var t=a(27),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"node-js-笔记"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-js-笔记"}},[s._v("#")]),s._v(" Node.js 笔记")]),s._v(" "),t("h2",{attrs:{id:"使用-nvm-管理-node-js-版本-推荐"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-nvm-管理-node-js-版本-推荐"}},[s._v("#")]),s._v(" 使用 nvm 管理 Node.js 版本（推荐）")]),s._v(" "),t("h3",{attrs:{id:"nvm-for-linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nvm-for-linux"}},[s._v("#")]),s._v(" nvm for Linux")]),s._v(" "),t("p",[s._v("官方链接：https://github.com/nvm-sh/nvm")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置镜像")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NVM_NODEJS_ORG_MIRROR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://nodejs.org/dist\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示所有远程LTS版本")]),s._v("\nnvm ls-remote --lts\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\nnvm "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.22")]),s._v(".1\nnode -v\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"nvm-for-windows"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nvm-for-windows"}},[s._v("#")]),s._v(" nvm for Windows")]),s._v(" "),t("blockquote",[t("p",[s._v("参考："),t("a",{attrs:{href:"https://www.jianshu.com/p/17d3249e0619",target:"_blank",rel:"noopener noreferrer"}},[s._v("使用nvm安装/管理多个nodejs版本"),t("OutboundLink")],1)])]),s._v(" "),t("ol",[t("li",[t("p",[s._v("首先，下载 nvm 并安装：https://github.com/coreybutler/nvm-windows/releases")])]),s._v(" "),t("li",[t("p",[s._v("打开 Powershell，输入 "),t("code",[s._v("nvm list available")]),s._v(" 查看可用的 Node.js 版本，访问 https://nodejs.org/download/release 查看所有可用版本")])]),s._v(" "),t("li",[t("p",[s._v("安装你需要的版本，如 10.22.1 版："),t("code",[s._v("nvm install 10.22.1")])]),s._v(" "),t("blockquote",[t("p",[s._v("如果下载缓慢，请编辑 "),t("code",[s._v("C:\\Users\\<YourName>\\AppData\\Roaming\\nvm\\settings.txt")]),s._v("(安装目录下)，添加：")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("node_mirror: https://npm.taobao.org/mirrors/node/\nnpm_mirror: https://npm.taobao.org/mirrors/npm/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("或者，直接输入命令进行设置：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("nvm node_mirror https://npm.taobao.org/mirrors/node/\nnvm npm_mirror https://npm.taobao.org/mirrors/npm/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("查看安装好的版本列表："),t("code",[s._v("nvm list")])])]),s._v(" "),t("li",[t("p",[s._v("设置默认 Node.js 版本 "),t("code",[s._v("nvm use 10.22.1")])])])]),s._v(" "),t("h3",{attrs:{id:"nvm-node-js-32位-64位-切换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nvm-node-js-32位-64位-切换"}},[s._v("#")]),s._v(" nvm Node.js 32位/64位 切换")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 32 位 10.15.1 版本 ")]),s._v("\nnvm "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.15")]),s._v(".1 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到该版本")]),s._v("\nnvm use "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.15")]),s._v(".1 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看架构")]),s._v("\nnode -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"process.arch"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"ubuntu-上安装-node-js-通过包管理器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-上安装-node-js-通过包管理器"}},[s._v("#")]),s._v(" Ubuntu 上安装 Node.js (通过包管理器)")]),s._v(" "),t("p",[s._v("由于目前apt自带的nodejs和npm版本过低，需要添加nodejs官方的源")]),s._v(" "),t("ol",[t("li",[s._v("运行 "),t("code",[s._v("curl -sL https://deb.nodesource.com/setup_10.x | sudo bash -")])]),s._v(" "),t("li",[s._v("编辑 "),t("code",[s._v("/etc/apt/sources.list.d/nodesource.list")]),s._v("，把 "),t("code",[s._v("https://deb.nodesource.com/node_10.x/")]),s._v(" 替换为 "),t("code",[s._v("https://mirrors.tuna.tsinghua.edu.cn/nodesource/deb_10.x/")]),s._v(" 即可。")]),s._v(" "),t("li",[s._v("最后安装"),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo apt update\nsudo apt install nodejs -y\n# 一般会自带 npm，如果没有请手动安装\nsudo apt install npm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])])]),s._v(" "),t("h4",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),t("ul",[t("li",[s._v("https://mirrors.tuna.tsinghua.edu.cn/help/nodesource/")]),s._v(" "),t("li",[s._v("https://github.com/nodesource/distributions/blob/master/README.md")])]),s._v(" "),t("h2",{attrs:{id:"linux-上手动安装-node-js-二进制安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-上手动安装-node-js-二进制安装"}},[s._v("#")]),s._v(" Linux 上手动安装 Node.js (二进制安装)")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载二进制文件压缩包")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://nodejs.org/dist/v10.16.3/node-v10.16.3-linux-x64.tar.xz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压缩")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvf node-v10.16.3-linux-x64.tar.xz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将目录移动至 /usr/software/nodejs")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" ./node-v10.16.3-linux-x64 /usr/software/nodejs\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 ln 命令设置符号链接")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /usr/sofrware/nodejs/bin/npm /usr/bin/npm\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /usr/sofrware/nodejs/bin/npx /usr/bin/npx\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /usr/sofrware/nodejs/bin/node /usr/bin/node\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看版本")]),s._v("\nnode -v\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" -v\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h2",{attrs:{id:"ubuntu-debian-安装-yarn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-debian-安装-yarn"}},[s._v("#")]),s._v(" Ubuntu/Debian 安装 yarn")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -sS https://dl.yarnpkg.com/debian/pubkey.gpg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deb https://dl.yarnpkg.com/debian/ stable main"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/apt/sources.list.d/yarn.list\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"nrm快速切换源小工具-推荐"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nrm快速切换源小工具-推荐"}},[s._v("#")]),s._v(" nrm快速切换源小工具（推荐）")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo npm install -g nrm \nnrm use taobao\n# nrm use npm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"手动设置npm淘宝镜像源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动设置npm淘宝镜像源"}},[s._v("#")]),s._v(" 手动设置npm淘宝镜像源")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" disturl https://npm.taobao.org/dist\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("查看是否设置成功："),t("code",[s._v("npm config list")])]),s._v(" "),t("h2",{attrs:{id:"手动设置yarn淘宝镜像源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动设置yarn淘宝镜像源"}},[s._v("#")]),s._v(" 手动设置yarn淘宝镜像源")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" disturl https://npm.taobao.org/dist\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"华为镜像源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#华为镜像源"}},[s._v("#")]),s._v(" 华为镜像源")]),s._v(" "),t("p",[s._v("NPM的配置文件为用户根目录下的："),t("strong",[s._v("~/.npmrc")]),s._v("（Windows路径为："),t("strong",[s._v("C:\\Users\\.npmrc")]),s._v("），您可以直接修改配置文件，或者运行如下命令设置：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm config set registry https://mirrors.huaweicloud.com/repository/npm/\nnpm cache clean -f\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("华为开源镜像站同时也提供了工具类加速镜像，可以通过如下的命令设置加速地址：")]),s._v(" "),t("p",[s._v("※ 设置"),t("strong",[s._v("nodejs")]),s._v("工具的镜像地址")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm config set disturl https://mirrors.huaweicloud.com/nodejs\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("※ 设置"),t("strong",[s._v("Node-Sass")]),s._v("的镜像地址")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm config set sass_binary_site https://mirrors.huaweicloud.com/node-sass\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("※ 设置浏览器引擎驱动镜像地址，如果需要安装"),t("strong",[s._v("Selenium")]),s._v("，请 点击此处")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm config set phantomjs_cdnurl https://mirrors.huaweicloud.com/phantomjs\nnpm config set chromedriver_cdnurl https://mirrors.huaweicloud.com/chromedriver\nnpm config set operadriver_cdnurl https://mirrors.huaweicloud.com/operadriver\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("※ 设置"),t("strong",[s._v("Electron")]),s._v("和"),t("strong",[s._v("Python")]),s._v("的镜像地址")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm config set electron_mirror https://mirrors.huaweicloud.com/electron/\nnpm config set python_mirror https://mirrors.huaweicloud.com/python\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"在-npm-上发布自己的包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-npm-上发布自己的包"}},[s._v("#")]),s._v(" 在 npm 上发布自己的包")]),s._v(" "),t("ol",[t("li",[s._v("在 https://www.npmjs.com/signup 注册一个账号")]),s._v(" "),t("li",[s._v("如果设置了淘宝源，切换为 npm 官方源 "),t("code",[s._v("nrm use npm")])]),s._v(" "),t("li",[s._v("执行："),t("code",[s._v("npm login")]),s._v("，输入用户名、密码、邮箱进行登录")]),s._v(" "),t("li",[s._v("如果是空项目，执行 "),t("code",[s._v("npm init")]),s._v(" 初始化项目")]),s._v(" "),t("li",[s._v("在项目目录执行："),t("code",[s._v("npm publish --access public")]),s._v(" 完成发布")])]),s._v(" "),t("p",[s._v("如果发布失败，可能的原因如下：")]),s._v(" "),t("ul",[t("li",[s._v("修改 "),t("code",[s._v("package.json")]),s._v(" 中 "),t("code",[s._v("private")]),s._v(" 为 "),t("code",[s._v("false")])]),s._v(" "),t("li",[s._v("包名重复，修改 "),t("code",[s._v("name")]),s._v(" 为一个不重复的值，或使用 "),t("code",[s._v("npm-name-cli")]),s._v(" 工具检测包名重名")])]),s._v(" "),t("p",[s._v("参考：https://xuebin.me/posts/43109cf3.html")]),s._v(" "),t("h2",{attrs:{id:"安装-vuecli3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-vuecli3"}},[s._v("#")]),s._v(" 安装 VueCLI3")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @vue/cli -g\nvue ui\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"node-sass-安装慢或失败"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-sass-安装慢或失败"}},[s._v("#")]),s._v(" node-sass 安装慢或失败")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# node-sass 安装慢或失败")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" sass_binary_site https://npm.taobao.org/mirrors/node-sass/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# electron 安装慢或失败")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" electron_mirror https://npm.taobao.org/mirrors/electron/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# canvas 安装慢或失败")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" canvas_binary_host_mirror https://npm.taobao.org/mirrors/node-canvas-prebuilt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"如何解决-nodejs-error-enospc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何解决-nodejs-error-enospc"}},[s._v("#")]),s._v(" 如何解决 NodeJS Error: ENOSPC")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法一：提高系统允许监听文件数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" fs.inotify.max_user_watches"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("524288")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" -a /etc/sysctl.conf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" sysctl -p\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"升级-npm-到最新版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#升级-npm-到最新版"}},[s._v("#")]),s._v(" 升级 npm 到最新版")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清除npm缓存")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" cache clean -f\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"yarn-的-autoclean-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yarn-的-autoclean-命令"}},[s._v("#")]),s._v(" yarn 的 autoclean 命令")]),s._v(" "),t("p",[s._v("该命令可以清理 "),t("code",[s._v("node_modules")]),s._v(" 里面的一些不必要的文件，以减小一些构建系统打包后的大小。")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("yarn autoclean -I")]),s._v(" 生成一个 "),t("code",[s._v(".yarnclean")]),s._v(" 文件，描述了要清理的文件类型")]),s._v(" "),t("li",[t("code",[s._v("yarn autoclean -F")]),s._v(" 开始清理")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# 效果显著\n-rw-r--r-- 1 mint mint  24M Nov 25 15:17 stage-1574666274142-20191125_151754147-dist.tar.7z\n-rw-r--r-- 1 mint mint  17M Nov 25 15:35 stage-1574667370958-20191125_153610962-dist.tar.7z\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"批量删除-node-modules-文件夹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#批量删除-node-modules-文件夹"}},[s._v("#")]),s._v(" 批量删除 node_modules 文件夹")]),s._v(" "),t("p",[s._v("安装 RimRaf："),t("code",[s._v("npm install rimraf -g")])]),s._v(" "),t("p",[s._v("在项目文件夹中，使用以下命令删除node_modules文件夹： "),t("code",[s._v("rimraf node_modules")])]),s._v(" "),t("p",[s._v("如果要递归删除："),t("code",[s._v("rimraf .\\**\\node_modules")])]),s._v(" "),t("h2",{attrs:{id:"npm设置代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm设置代理"}},[s._v("#")]),s._v(" npm设置代理")]),s._v(" "),t("p",[s._v("参考：https://www.tapme.top/blog/detail/20191010/")]),s._v(" "),t("p",[s._v("http 代理")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 假设本地代理端口为7890")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" proxy "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:7890"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" https-proxy "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:7890"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 有用户密码的代理")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" proxy "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://username:password@localhost:8080"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" confit "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" https-proxy "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://username:password@localhost:8080"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("socks5 代理")]),s._v(" "),t("blockquote",[t("p",[s._v("npm 不支持 socks 代理，但是我们可以用一个工具将 http 代理转成 socks 代理，然后将 npm 代理地址设置到这个工具的地址。")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 假设本地socks5代理端口为8081")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 首先安装转换工具")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g http-proxy-to-socks\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 然后使用这个工具监听8080端口,支持http代理，然后所有8080的http代理数据都将转换成socks的代理数据发送到8081上")]),s._v("\nhpts -s localhost:8081 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最后设置npm代理为8080")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" proxy "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:8080"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" https-proxy "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:8080"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("删除代理")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config delete proxy\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config delete https-proxy\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"npm-install-常见坑解决方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm-install-常见坑解决方案"}},[s._v("#")]),s._v(" npm install 常见坑解决方案")]),s._v(" "),t("ul",[t("li",[s._v("删掉 "),t("code",[s._v("node_modules")]),s._v(" 和 "),t("code",[s._v("package-lock.json")]),s._v(" 用 "),t("code",[s._v("npm install")]),s._v(" 重装")]),s._v(" "),t("li",[s._v("使用 "),t("code",[s._v("cnpm")]),s._v(" 或 "),t("code",[s._v("yarn")]),s._v(" 重装")]),s._v(" "),t("li",[s._v("设置 "),t("a",{attrs:{href:"#npm%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86"}},[s._v("npm 代理")]),s._v(" 或"),t("a",{attrs:{href:"#%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AEnpm%E6%B7%98%E5%AE%9D%E9%95%9C%E5%83%8F%E6%BA%90"}},[s._v("镜像源")]),s._v(" 重装")]),s._v(" "),t("li",[s._v("清除 npm 缓存 "),t("code",[s._v("npm cache clean -f")]),s._v(" 重装")]),s._v(" "),t("li",[s._v("使用 "),t("code",[s._v("npm --loglevel info install")]),s._v(" 或 "),t("code",[s._v("yarn --verbose install")]),s._v(" 查看详细输出")]),s._v(" "),t("li",[s._v("Windows 缺少 VisualStudio："),t("code",[s._v("npm install --global --production windows-build-tools")])])]),s._v(" "),t("h2",{attrs:{id:"运行大型-vue-项目时-报内存溢出错误-call-and-retry-last-allocation-failed-javascript-heap-out-of-memory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行大型-vue-项目时-报内存溢出错误-call-and-retry-last-allocation-failed-javascript-heap-out-of-memory"}},[s._v("#")]),s._v(" 运行大型 Vue 项目时，报内存溢出错误："),t("code",[s._v("CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory")])]),s._v(" "),t("p",[s._v("全局处理")]),s._v(" "),t("ol",[t("li",[s._v("全局安装 "),t("code",[s._v("npm install -g increase-memory-limit")])]),s._v(" "),t("li",[s._v("运行 "),t("code",[s._v("increase-memory-limit")])])]),s._v(" "),t("p",[s._v("或者在项目中 "),t("code",[s._v("package.json")])]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack-dev-server --inline --progress --config build/webpack.dev.conf.js && cross-env LIMIT=8192 increase-memory-limit"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"fix-memory-limit"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cross-env LIMIT=8192 increase-memory-limit"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"increase-memory-limit"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.0.6"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"cross-env"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^5.2.0"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("初次运行项目前，执行一遍 "),t("code",[s._v("npm run fix-memory-limit")]),s._v(" 就可以了。")]),s._v(" "),t("p",[s._v("注意：32位环境最大支持 4096MB 内存。")]),s._v(" "),t("p",[s._v("如果执行后遇到这个问题："),t("code",[s._v("'\"node --max-old-space-size=8192\"' 不是内部或外部命令,也不是可运行的程序")]),s._v("，很有可能是这条命令把脚本改坏了，建议手动修改启动脚本：")]),s._v(" "),t("p",[t("img",{attrs:{src:a(600),alt:"image-20200421154419272"}})])])}),[],!1,null,null,null);n.default=e.exports}}]);