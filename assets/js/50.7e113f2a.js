(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{590:function(t,s,a){"use strict";a.r(s);var r=a(57),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"安装-frp-内网穿透工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-frp-内网穿透工具"}},[t._v("#")]),t._v(" 安装 frp 内网穿透工具")]),t._v(" "),a("p",[t._v("https://github.com/fatedier/frp/blob/master/README_zh.md")]),t._v(" "),a("h2",{attrs:{id:"服务器端-·-frps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务器端-·-frps"}},[t._v("#")]),t._v(" 服务器端 · frps")]),t._v(" "),a("p",[t._v("到Github上"),a("a",{attrs:{href:"https://github.com/fatedier/frp/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载"),a("OutboundLink")],1),t._v("对应的版本，解压到例如"),a("code",[t._v("/usr/www/frp")]),t._v("文件夹下：")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://github.com/fatedier/frp/releases/download/v0.25.3/frp_0.25.3_linux_amd64.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" xzvf frp_0.25.3_linux_amd64.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" frp_0.25.3_linux_amd64 frp\n")])])]),a("p",[t._v("修改"),a("code",[t._v("frps.ini")]),t._v("，直接运行"),a("code",[t._v("./frps -c frpc.ini")]),t._v("即可启动成功")]),t._v(" "),a("p",[t._v("附上"),a("code",[t._v("frps.ini")]),t._v("基础配置内容")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[common]\nbind_port = 7000\n\n# dashboard_addr = 0.0.0.0\n# dashboard_port = 7500\n\n# 仪表盘访问的用户名密码，如果不设置，则默认都是 admin\n# dashboard_user = admin\n# dashboard_pwd = admin\n\n# auth token\ntoken = abcd1234567890\n")])])]),a("h2",{attrs:{id:"frps-守护服务、开机启动-systemd-systemctl-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#frps-守护服务、开机启动-systemd-systemctl-配置"}},[t._v("#")]),t._v(" frps 守护服务、开机启动：systemd/systemctl 配置")]),t._v(" "),a("p",[t._v("https://blog.xinshangshangxin.com/2018/06/18/frp/")]),t._v(" "),a("p",[t._v("添加 "),a("code",[t._v("/etc/systemd/system/frps.service")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Description")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("frps\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("After")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("network.target\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TimeoutStartSec")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/www/frp/frps -c /usr/www/frp/frps.ini\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStop")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/bin/kill "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MAINPID")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("multi-user.target\n")])])]),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动服务")]),t._v("\nsystemctl start frps\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看状态")]),t._v("\nsystemctl status frps\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开机启动")]),t._v("\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" frps\n")])])]),a("h2",{attrs:{id:"客户端-·-frpc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端-·-frpc"}},[t._v("#")]),t._v(" 客户端 · frpc")]),t._v(" "),a("p",[t._v("运行"),a("code",[t._v("frpc -c frpc.ini")]),t._v("可启动客户端服务，")]),t._v(" "),a("ul",[a("li",[t._v("windows可使用"),a("RouterLink",{attrs:{to:"/manual/windows-setup-mongodb.html"}},[t._v("NSSM")]),t._v("来实现自动运行服务")],1)]),t._v(" "),a("h3",{attrs:{id:"frpc-守护服务、开机启动-systemd-systemctl-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#frpc-守护服务、开机启动-systemd-systemctl-配置"}},[t._v("#")]),t._v(" frpc 守护服务、开机启动：systemd/systemctl 配置")]),t._v(" "),a("p",[t._v("添加 "),a("code",[t._v("/etc/systemd/system/frpc.service")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Description")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("frpc daemon\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("After")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("syslog.target  network.target\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Wants")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("network.target\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("simple\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/www/frp/frpc -c /usr/www/frp/frpc.ini\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Restart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" always\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RestartSec")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("1min\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ExecStop")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/bin/kill "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MAINPID")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("multi-user.target\n")])])]),a("h3",{attrs:{id:"附上frpc-ini内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附上frpc-ini内容"}},[t._v("#")]),t._v(" 附上"),a("code",[t._v("frpc.ini")]),t._v("内容")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[common]\nserver_addr = 47.xxx.xxx.xxx \nserver_port = 7000\n# auth token\ntoken = abcd1234567890\n\n\n[web]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 80\nremote_port = 8080\n\n[ftp]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 21\nremote_port = 8082\n\n[ftp_port1]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 5100\nremote_port = 5100\n\n\n[ftp_port2]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 5101\nremote_port = 5101\n\n\n[ftp_port3]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 5102\nremote_port = 5102\n\n[rdp]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 3389\nremote_port = 3389\n\n[ssh]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 22\nremote_port = 2222\nuse_encryption = true\nuse_compression = false\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);