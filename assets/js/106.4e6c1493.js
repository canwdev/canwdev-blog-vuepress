(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{686:function(e,t,r){"use strict";r.r(t);var v=r(56),a=Object(v.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"说下你对指令的理解"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#说下你对指令的理解"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://github.com/haizlin/fe-interview/issues/230",target:"_blank",rel:"noopener noreferrer"}},[e._v("说下你对指令的理解？"),r("OutboundLink")],1)]),e._v(" "),r("blockquote",[r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/haizlin/fe-interview/issues/316",target:"_blank",rel:"noopener noreferrer"}},[e._v("手写一个自定义指令及写出如何调用"),r("OutboundLink")],1)])])]),e._v(" "),r("h3",{attrs:{id:"vue-指令"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-指令"}},[e._v("#")]),e._v(" Vue 指令")]),e._v(" "),r("p",[e._v("指令 (Directives) 是带有 "),r("code",[e._v("v-")]),e._v(" 前缀的特殊 attribute。指令 attribute 的值预期是"),r("strong",[e._v("单个 JavaScript 表达式")]),e._v(" ("),r("code",[e._v("v-for")]),e._v(" 是例外情况，稍后我们再讨论)。指令的职责是，当表达式的值改变时，将其产生的连带影响，响应式地作用于 DOM。—— "),r("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/syntax.html#%E6%8C%87%E4%BB%A4",target:"_blank",rel:"noopener noreferrer"}},[e._v("指令·官方文档"),r("OutboundLink")],1)]),e._v(" "),r("h3",{attrs:{id:"vue-自定义指令"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-自定义指令"}},[e._v("#")]),e._v(" Vue 自定义指令")]),e._v(" "),r("p",[e._v("除了核心功能默认内置的指令 ("),r("code",[e._v("v-model")]),e._v(" 和 "),r("code",[e._v("v-show")]),e._v(")，Vue 也允许注册自定义指令。")]),e._v(" "),r("p",[e._v("当页面加载时，该元素将获得焦点 (注意："),r("code",[e._v("autofocus")]),e._v(" 在移动版 Safari 上不工作)。事实上，只要你在打开这个页面后还没点击过任何内容，这个输入框就应当还是处于聚焦状态。现在让我们用指令来实现这个功能：")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("// 注册一个全局自定义指令 `v-focus`\nVue.directive('focus', {\n  // 当被绑定的元素插入到 DOM 中时……\n  inserted: function (el) {\n    // 聚焦元素\n    el.focus()\n  }\n})\n")])])]),r("p",[e._v("如果想注册局部指令，组件中也接受一个 "),r("code",[e._v("directives")]),e._v(" 的选项：")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("directives: {\n  focus: {\n    // 指令的定义\n    inserted: function (el) {\n      el.focus()\n    }\n  }\n}\n")])])]),r("p",[e._v("然后你可以在模板中任何元素上使用新的 "),r("code",[e._v("v-focus")]),e._v(" 属性，如下：")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("<input v-focus>\n")])])]),r("p",[e._v("—— "),r("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/custom-directive.html#ad",target:"_blank",rel:"noopener noreferrer"}},[e._v("自定义指令·官方文档"),r("OutboundLink")],1)]),e._v(" "),r("h1",{attrs:{id:"自定义指令的生命周期-钩子函数-有哪些"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#自定义指令的生命周期-钩子函数-有哪些"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://github.com/haizlin/fe-interview/issues/234",target:"_blank",rel:"noopener noreferrer"}},[e._v("自定义指令的生命周期（钩子函数）有哪些？"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/custom-directive.html#%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[e._v("钩子函数·文档"),r("OutboundLink")],1),e._v("：")]),e._v(" "),r("p",[e._v("一个指令定义对象可以提供如下几个钩子函数 (均为可选)：")]),e._v(" "),r("ul",[r("li",[r("p",[r("code",[e._v("bind")]),e._v("：只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("inserted")]),e._v("：被绑定元素插入父节点时调用 (仅保证父节点存在，但不一定已被插入文档中)。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("update")]),e._v("：所在组件的 VNode 更新时调用，"),r("strong",[e._v("但是可能发生在其子 VNode 更新之前")]),e._v("。指令的值可能发生了改变，也可能没有。但是你可以通过比较更新前后的值来忽略不必要的模板更新 (详细的钩子函数参数见下)。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("componentUpdated")]),e._v("：指令所在组件的 VNode "),r("strong",[e._v("及其子 VNode")]),e._v(" 全部更新后调用。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("unbind")]),e._v("：只调用一次，指令与元素解绑时调用。")])])]),e._v(" "),r("hr"),e._v(" "),r("p",[e._v("FAQ:")]),e._v(" "),r("h2",{attrs:{id:"写出你常用的指令有哪些"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#写出你常用的指令有哪些"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://github.com/haizlin/fe-interview/issues/317",target:"_blank",rel:"noopener noreferrer"}},[e._v("写出你常用的指令有哪些？"),r("OutboundLink")],1)]),e._v(" "),r("ul",[r("li",[e._v("v-text, v-html, v-show, v-if, v-else, v-else-i·f, v-for, v-model, v-bind, v-on, v-slot, v-pre, v-cloak, v-once")]),e._v(" "),r("li",[e._v("https://cn.vuejs.org/v2/api/#%E6%8C%87%E4%BB%A4")])]),e._v(" "),r("h2",{attrs:{id:"v-if和v-for的优先级是什么-如果这两个同时出现时-那应该怎么优化才能得到更好的性能"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#v-if和v-for的优先级是什么-如果这两个同时出现时-那应该怎么优化才能得到更好的性能"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://github.com/haizlin/fe-interview/issues/270",target:"_blank",rel:"noopener noreferrer"}},[e._v("v-if和v-for的优先级是什么？如果这两个同时出现时，那应该怎么优化才能得到更好的性能？"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("v-for优先级高于v-if，故如果需要两个都存在，v-if尽量在v-for的父级被包裹（可以使用 "),r("code",[e._v("<template>")]),e._v("），避免增加无用的渲染开销。")]),e._v(" "),r("h2",{attrs:{id:"v-show和v-if有什么区别-使用场景分别是什么"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#v-show和v-if有什么区别-使用场景分别是什么"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://github.com/haizlin/fe-interview/issues/232",target:"_blank",rel:"noopener noreferrer"}},[e._v("v-show和v-if有什么区别？使用场景分别是什么？"),r("OutboundLink")],1)]),e._v(" "),r("ul",[r("li",[e._v("v-show 控制元素的显示或隐藏，控制的是CSS 的 "),r("code",[e._v("display")])]),e._v(" "),r("li",[e._v("v-if 控制的是元素是否插入到DOM节点，如果为 false 则组件不会挂载和渲染")])])])}),[],!1,null,null,null);t.default=a.exports}}]);