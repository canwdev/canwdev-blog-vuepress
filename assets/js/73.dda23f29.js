(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{715:function(s,n,e){"use strict";e.r(n);var a=e(35),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"安装配置-vnc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装配置-vnc"}},[s._v("#")]),s._v(" 安装配置 VNC")]),s._v(" "),e("h2",{attrs:{id:"linuxmint-安装-tigervnc-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linuxmint-安装-tigervnc-server"}},[s._v("#")]),s._v(" LinuxMint 安装 TigerVNC Server")]),s._v(" "),e("h3",{attrs:{id:"_1-安装-tigervnc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-tigervnc"}},[s._v("#")]),s._v(" 1. 安装 tigervnc")]),s._v(" "),e("div",{staticClass:"language-shell script line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" tigervnc-standalone-server tigervnc-common\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_2-vnc-服务相关命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-vnc-服务相关命令"}},[s._v("#")]),s._v(" 2. vnc 服务相关命令")]),s._v(" "),e("div",{staticClass:"language-shell script line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看帮助")]),s._v("\nvncserver --help\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动服务，初次启动会询问vnc密码，如果要重设vnc密码请运行 vncpasswd")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认监听端口号是 1")]),s._v("\nvncserver\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止在端口为 1 上面的vnc服务")]),s._v("\nvncserver -kill :1\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止所有")]),s._v("\nvncserver -kill :*\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有运行中的vnc服务")]),s._v("\nvncserver -list\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看端口使用情况")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 其中的 5901 对应的就是 1 端口")]),s._v("\nss -tulpn\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])]),e("h2",{attrs:{id:"_3-桌面环境设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-桌面环境设置"}},[s._v("#")]),s._v(" 3. 桌面环境设置")]),s._v(" "),e("p",[s._v("LinuxMint 使用的是 Cinnamon 桌面，所以需要对 "),e("code",[s._v("~/.vnc/xstartup")]),s._v(" 进行如下配置（注意最后一行）：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('#!/bin/sh\n\nxrdb $HOME/.Xresources\nxsetroot -solid grey\n# x-terminal-emulator -geometry 80x24+10+10 -ls -title "$VNCDESKTOP Desktop" &\n# x-window-manager &\n# Fix to make GNOME work\nexport XKL_XMODMAP_DISABLE=1\n/etc/X11/Xsession &\nexec dbus-launch cinnamon-session\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("ul",[e("li",[s._v("kde: "),e("code",[s._v("startkde &")])]),s._v(" "),e("li",[s._v("gnome: "),e("code",[s._v("gnome-session &")])]),s._v(" "),e("li",[s._v("xfce: "),e("code",[s._v("startxfce4 &")])]),s._v(" "),e("li",[s._v("lxde: "),e("code",[s._v("lxsession &")])])]),s._v(" "),e("p",[s._v("配置好后，重启vnc服务，用 VNC Viewer 之类的软件输入ip地址和端口号就可以连接了~。")]),s._v(" "),e("blockquote",[e("p",[s._v("如果连接的时候提示：“the connection was refused by the computer”，可能是因为 vnc 服务器只允许了 127.0.0.1 的连接，\n在 "),e("code",[s._v("/etc/vnc.conf")]),s._v(" 添加一行 "),e("code",[s._v('$localhost = "no";')]),s._v(" 然后重启服务可以解决这个问题。")])])])}),[],!1,null,null,null);n.default=t.exports}}]);