(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{647:function(s,a,t){"use strict";t.r(a);var n=t(28),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"android-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#android-命令"}},[s._v("#")]),s._v(" Android 命令")]),s._v(" "),t("h2",{attrs:{id:"网络-adb-调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#网络-adb-调试"}},[s._v("#")]),s._v(" 网络 ADB 调试")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用 USB 线将设备连接到电脑")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为了确保设备已连接，可以先在 adb shell 中查看设备 ip 地址")]),s._v("\nadb shell\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifconfig")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启网络调试，监听在 5555 端口")]),s._v("\nadb tcpip "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5555")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接网络adb")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如 adb connect 192.168.1.103:5555")]),s._v("\nadb connect IP地址"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":端口号"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"通过-adb-启动-shizuku"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过-adb-启动-shizuku"}},[s._v("#")]),s._v(" 通过 adb 启动 shizuku")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://shizuku.rikka.app/zh-hans/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Shizuku 让你的应用直接使用系统 API"),t("OutboundLink")],1)])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("adb shell "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" /data/user_de/0/moe.shizuku.privileged.api/start.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"炼妖壶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#炼妖壶"}},[s._v("#")]),s._v(" 炼妖壶")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("adb shell\n\n# 开启 File Shuttle\npm grant com.oasisfeng.island android.permission.INTERACT_ACROSS_USERS\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"常用-adb-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用-adb-命令"}},[s._v("#")]),s._v(" 常用 ADB 命令")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重置 adb 服务")]),s._v("\nadb kill-server\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考：https://github.com/jaredrummler/android-shell-scripts")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 快速重启")]),s._v("\nsetprop ctl.restart zygote\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启至 bootloader")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v(" bootloader\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启至 recovery")]),s._v("\nsetprop ctl.start pre-recovery\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v(" recovery "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fallback")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启")]),s._v("\nsetprop sys.powerctl "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fallback")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 SystemUI")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" call activity "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v(" s16 com.android.systemui\nam startservice -n com.android.systemui/.SystemUIService\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关机")]),s._v("\nsetprop sys.powerctl "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fallback")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("h2",{attrs:{id:"nokia-n1-开启-otg-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nokia-n1-开启-otg-命令"}},[s._v("#")]),s._v(" Nokia N1 开启 OTG 命令")]),s._v(" "),t("blockquote",[t("p",[s._v("注：开启后在重启之前都不能充电。")])]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" A "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /sys/kernel/debug/usb/dwc3_debugfs_root/otg_id\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"build-prop-优化代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build-prop-优化代码"}},[s._v("#")]),s._v(" build.prop 优化代码")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Disables logcat")]),s._v("\nlogcat.live"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("disable\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Disable Automatic Error Reporting")]),s._v("\nprofiler.force_disable_err_rpt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nprofiler.force_disable_ulog"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nro.kernel.checkjni"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nro.kernel.android.checkjni"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\npersist.android.strictmode"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Better net speeds.")]),s._v("\nnet.tcp.buffersize.default"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096,87380")]),s._v(",256960, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16384,256960")]),s._v("\nnet.tcp.buffersize.wifi"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096,87380")]),s._v(",256960,409 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6,163")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("84,256960")]),s._v("\nnet.tcp.buffersize.umts"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096,8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7380,256960")]),s._v(",4096,163 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("84,256960")]),s._v("\nnet.tcp.buffersize.gprs"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096,8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7380,256960")]),s._v(",4096,163 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("84,256960")]),s._v("\nnet.tcp.buffersize.edge"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096,8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7380,256960")]),s._v(",4096,163 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("84,256960")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Better scrolling.")]),s._v("\nwindowsmgr.max_events_per_sec"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("150")]),s._v("\nro.min_pointer_dur"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" ro.max.fling_velocity"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12000")]),s._v("\nro.min.fling_velocity"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Faster boot.")]),s._v("\nro.config.hw_quickpoweron"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭开机动画")]),s._v("\ndebug.sf.nobootanimation"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 低内存模式")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://source.android.com/devices/tech/perf/low-ram")]),s._v("\nro.config.low_ram"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br")])]),t("h2",{attrs:{id:"使用-fastboot-刷入-recovery"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-fastboot-刷入-recovery"}},[s._v("#")]),s._v(" 使用 fastboot 刷入 Recovery")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看设备列表")]),s._v("\nfastboot.exe devices\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 刷入 recovery 到 recovery 分区")]),s._v("\nfastboot.exe flash recovery recovery.img\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 立即引导 recovery")]),s._v("\nfastboot.exe boot recovery.img\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"刷机常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#刷机常见问题"}},[s._v("#")]),s._v(" 刷机常见问题")]),s._v(" "),t("ul",[t("li",[t("p",[t("RouterLink",{attrs:{to:"/manual/android-rom-modify/"}},[s._v("Android ROM 在 Ubuntu 下的 system.new.dat 的解包、修改和打包")])],1)]),s._v(" "),t("li",[t("p",[s._v("如果无法刷入，请检查")]),s._v(" "),t("ul",[t("li",[s._v("设备型号与脚本判定是否一致，如果要强刷，请修改刷机包 "),t("code",[s._v("\\META-INF\\com\\google\\android\\updater-script")]),s._v(" 里的判定机制")]),s._v(" "),t("li",[s._v("底包（firmware）是否达到要求，如果底包版本过低则无法刷入")]),s._v(" "),t("li",[s._v("TWRP 是否支持刷入该版本的Android")])])]),s._v(" "),t("li",[t("p",[s._v("如果刷入后卡第一屏（无开机动画）")]),s._v(" "),t("ul",[t("li",[s._v("可能是 /data 分区出了问题，先备份数据，然后完全格式化 /data 分区，再重新刷入")]),s._v(" "),t("li",[s._v("可能是 ROM 本身的问题")])])]),s._v(" "),t("li",[t("p",[s._v("如果重启后总是进入 recovery")]),s._v(" "),t("ul",[t("li",[s._v("可能是把 recovery.img 刷入了 boot 分区导致的")]),s._v(" "),t("li",[s._v("可能是 boot 损坏了导致自动启动 recovery 分区")]),s._v(" "),t("li",[s._v("线刷官方包或者卡刷上一次能用的包应该可以解决问题")])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);