(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{623:function(e,t,s){"use strict";s.r(t);var a=s(57),v=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"linux-fstab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux-fstab"}},[e._v("#")]),e._v(" Linux fstab")]),e._v(" "),s("blockquote",[s("p",[e._v("sudo vim /etc/fstab")])]),e._v(" "),s("h2",{attrs:{id:"fstab-文件内容及释义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fstab-文件内容及释义"}},[e._v("#")]),e._v(" fstab 文件内容及释义")]),e._v(" "),s("p",[e._v("参考：")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://wiki.archlinux.org/index.php/Fstab_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)",target:"_blank",rel:"noopener noreferrer"}},[e._v("fstab - ArchWiki"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/huapox/p/3509637.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ubuntu 重新挂载home"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("fstab文件可用于定义磁盘分区，各种其他块设备或远程文件系统应如何装入文件系统。")]),e._v(" "),s("p",[e._v("一个 "),s("code",[e._v("/etc/fstab")]),e._v(" 示例，使用内核名称标识磁盘:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# /etc/fstab: static file system information.\n#\n# Use 'blkid' to print the universally unique identifier for a device; this may\n# be used with UUID= as a more robust way to name devices that works even if\n# disks are added and removed. See fstab(5).\n#\n# <file system>        <dir>         <type>    <options>             <dump> <pass>\ntmpfs                  /tmp          tmpfs     nodev,nosuid          0      0\n/dev/sda1              /             ext4      defaults,noatime      0      1\n/dev/sda2              none          swap      defaults              0      0\n/dev/sda3              /home         ext4      defaults,noatime      0      2\n")])])]),s("p",[e._v("字段解释：")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("<file systems>")]),e._v("：要挂载的分区或存储设备。最初，该字段只包含待挂载分区的设备名（如/dev/sda1）。现在，除设备名外，还可以包含LABEL或UUID。")]),e._v(" "),s("li",[s("code",[e._v("<dir>")]),e._v("："),s("code",[e._v("<file systems>")]),e._v(" 的文件系统挂载点。")]),e._v(" "),s("li",[s("code",[e._v("<type>")]),e._v("：文件系统类型，支持许多种不同的文件系统：如"),s("code",[e._v("ext4")]),e._v(", "),s("code",[e._v("vfat")]),e._v(", "),s("code",[e._v("ntfs")]),e._v(", "),s("code",[e._v("swap")]),e._v(", "),s("code",[e._v("auto")]),e._v("等。 设置成"),s("code",[e._v("auto")]),e._v("类型，mount 命令会猜测使用的文件系统类型，对 CDROM 和 DVD 等移动设备是非常有用的。")]),e._v(" "),s("li",[s("code",[e._v("<options>")]),e._v("：挂载时使用的参数，注意有些参数是特定文件系统才有的。")]),e._v(" "),s("li",[s("code",[e._v("<dump>")]),e._v("：dump 工具通过它决定何时作备份。dump 会检查其内容，并用数字来决定是否对这个文件系统进行备份。 允许的数字是 0 和 1 。0 表示忽略， 1 则进行备份。大部分的用户是没有安装 dump 的 ，对他们而言 "),s("code",[e._v("<dump>")]),e._v(" 应设为 0。")]),e._v(" "),s("li",[s("code",[e._v("<pass>")]),e._v("：fsck 读取 "),s("code",[e._v("<pass>")]),e._v(" 的数值来决定需要检查的文件系统的检查顺序。允许的数字是0, 1, 和2。 0表示不必检查该文件系统，数字1示意该文件系统需要先行检查（用于根文件系统）。数字2则表示完成根文件系统检查后，再检查该文件系统。")])]),e._v(" "),s("h2",{attrs:{id:"更改-home-挂载点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更改-home-挂载点"}},[e._v("#")]),e._v(" 更改 /home 挂载点")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("复制原有 home 内容到新分区")]),e._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" -ax /home/* /mnt/test/\n")])])])]),e._v(" "),s("li",[s("p",[e._v("找到目标分区 UUID："),s("code",[e._v("sudo blkid")])])]),e._v(" "),s("li",[s("p",[e._v("重命名旧 "),s("code",[e._v("/home")]),e._v("目录，并且创建一个新的空目录（必要）")]),e._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" /home /home.old\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" /home\n")])])])]),e._v(" "),s("li",[s("p",[e._v("将挂载点保，"),s("code",[e._v("sudo vim /etc/fstab")]),e._v("，按照如下格式修改：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("UUID=45a8f854-55c1-435b-b37e-8cfce8f8a6b2 /              ext4    defaults,noatime 0 1\nUUID=ba6bab0d-ecc4-48f8-b0f8-fc999bd67491 /home          ext4    defaults 0 2\n")])])]),s("p",[e._v("第一个 UUID 是系统根目录的分区，第二个则是新 home 的分区。")])]),e._v(" "),s("li",[s("p",[e._v("重启，如果成功进入系统就可以删除旧的 "),s("code",[e._v("home.old")])])])]),e._v(" "),s("p",[e._v("参考："),s("a",{attrs:{href:"https://blog.csdn.net/u012796629/article/details/100841549",target:"_blank",rel:"noopener noreferrer"}},[e._v("ubuntu18.04 更改/home挂载点"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=v.exports}}]);