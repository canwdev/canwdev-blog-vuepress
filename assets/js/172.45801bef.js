(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{753:function(e,n,t){"use strict";t.r(n);var r=t(57),o=Object(r.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"v-once的使用场景有哪些"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#v-once的使用场景有哪些"}},[e._v("#")]),e._v(" "),t("a",{attrs:{href:"https://github.com/haizlin/fe-interview/issues/459",target:"_blank",rel:"noopener noreferrer"}},[e._v("v-once的使用场景有哪些？"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"v-once"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#v-once"}},[e._v("#")]),e._v(" "),t("a",{attrs:{href:"https://cn.vuejs.org/v2/api/#v-once",target:"_blank",rel:"noopener noreferrer"}},[e._v("v-once"),t("OutboundLink")],1)]),e._v(" "),t("ul",[t("li",[t("p",[t("strong",[e._v("不需要表达式")])])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("详细")]),e._v("：")]),e._v(" "),t("p",[e._v("只渲染元素和组件"),t("strong",[e._v("一次")]),e._v("。随后的重新渲染，元素/组件及其所有的子节点将被视为静态内容并跳过。这可以用于优化更新性能。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('\x3c!-- 单个元素 --\x3e\n<span v-once>This will never change: {{msg}}</span>\n\x3c!-- 有子元素 --\x3e\n<div v-once>\n  <h1>comment</h1>\n  <p>{{msg}}</p>\n</div>\n\x3c!-- 组件 --\x3e\n<my-component v-once :comment="msg"></my-component>\n\x3c!-- `v-for` 指令--\x3e\n<ul>\n  <li v-for="i in list" v-once>{{i}}</li>\n</ul>\n')])])])])]),e._v(" "),t("h3",{attrs:{id:"通过-v-once-创建低开销的静态组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过-v-once-创建低开销的静态组件"}},[e._v("#")]),e._v(" "),t("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/components-edge-cases.html#%E9%80%9A%E8%BF%87-v-once-%E5%88%9B%E5%BB%BA%E4%BD%8E%E5%BC%80%E9%94%80%E7%9A%84%E9%9D%99%E6%80%81%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[e._v("通过 "),t("code",[e._v("v-once")]),e._v(" 创建低开销的静态组件"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("渲染普通的 HTML 元素在 Vue 中是非常快速的，但有的时候你可能有一个组件，这个组件包含了"),t("strong",[e._v("大量")]),e._v("静态内容。在这种情况下，你可以在根元素上添加 "),t("code",[e._v("v-once")]),e._v(" attribute 以确保这些内容只计算一次然后缓存起来，就像这样：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Vue.component('terms-of-service', {\n  template: `\n    <div v-once>\n      <h1>Terms of Service</h1>\n      ... a lot of static content ...\n    </div>\n  `\n})\n")])])]),t("p",[e._v("再说一次，试着不要过度使用这个模式。当你需要渲染大量静态内容时，极少数的情况下它会给你带来便利，除非你非常留意渲染变慢了，不然它完全是没有必要的——再加上它在后期会带来很多困惑。例如，设想另一个开发者并不熟悉 "),t("code",[e._v("v-once")]),e._v(" 或漏看了它在模板中，他们可能会花很多个小时去找出模板为什么无法正确更新。")])])}),[],!1,null,null,null);n.default=o.exports}}]);