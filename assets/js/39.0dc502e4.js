(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{660:function(s,t,a){"use strict";a.r(t);var e=a(30),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"rimg2sdat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rimg2sdat"}},[s._v("#")]),s._v(" rimg2sdat")]),s._v(" "),a("p",[s._v("Tool to convert raw images(EXT4 filesystem) to sparse Android data (system.new.dat)")]),s._v(" "),a("h2",{attrs:{id:"requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[s._v("#")]),s._v(" Requirements")]),s._v(" "),a("ul",[a("li",[s._v("Requires Python 2.7.5 or newer installed on your system")]),s._v(" "),a("li",[s._v("It currently supports Windows, Linux (tested)")]),s._v(" "),a("li",[s._v("Python package: "),a("code",[s._v("brotli")]),s._v(" or "),a("code",[s._v("brotlipy")]),s._v(" (only the "),a("code",[s._v("-c")]),s._v(" parameter is specified)")])]),s._v(" "),a("h2",{attrs:{id:"usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[s._v("#")]),s._v(" Usage")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ ./rimg2sdat.py\nusage: rimg2sdat.py [OPTION] <raw_image_file>\n\npositional arguments:\n  raw_image_file  input system raw image file\n\noptional arguments:\n  -h, --help      show this help message and exit\n  -o outdir       output directory, default: current directory\n  -p prefix       name of sparse data image (prefix.new.dat), default: system\n  -v version      transfer list version number, default: 4\n  -c              compress the new.dat file to new.dat.br file with brotli.\n                  (WARNING! Only Android 8.1 support)\n  -nl             when version was 4, no limit 1024 blocks in single command\n  -sha1           get sha1 checksums of sparse data image\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h2",{attrs:{id:"example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[s._v("#")]),s._v(" Example")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# create system.transfer.list of version 4, and system.new.dat\n~$ ./rimg2sdat.py system.img\n\n# create system.transfer.list of version 3, and system.new.dat\n~$ ./rimg2sdat.py -v 3 system.img\n \n# create test.transfer.list of version 4, then compression test.new.dat into test.new.dat.br\n~$ ./rimg2sdat.py -p test -c system.img\n \n# create system.transfer.list of version 4\n# get sha1 checksums of system.new.dat, then compression it into system.new.dat.br\n~$ ./rimg2sdat.py -c -sha1 system.img\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"also-can-be-a-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#also-can-be-a-module"}},[s._v("#")]),s._v(" Also can be a module")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" rimg2sdat\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ~$ ./rimg2sdat.py system.img")]),s._v("\nrimg2sdat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'system.img'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ~$ ./rimg2sdat.py -p test -c -sha1 system.img")]),s._v("\nrimg2sdat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'system.img'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-p test -c -sha1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"info"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#info"}},[s._v("#")]),s._v(" Info")]),s._v(" "),a("p",[s._v("If you looking decompressing system.new.dat file, you can refer to "),a("a",{attrs:{href:"https://github.com/xpirt/sdat2img",target:"_blank",rel:"noopener noreferrer"}},[s._v("sdat2img"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);