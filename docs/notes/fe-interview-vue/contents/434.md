# [组件中写name选项有什么作用？](https://github.com/haizlin/fe-interview/issues/434)

参考：https://www.jb51.net/article/140702.htm

## 表明组件的名称

可以清楚的表明当前组件的名称，在 vue-devtools 里显示的组件名称 或 debug 时有巨大作用。

```js
export default {
   name:'xxx'
}
```

## 项目使用keep-alive时，搭配组件name进行过滤

**当项目使用keep-alive时，可搭配组件name进行缓存过滤**

举个例子：

 我们有个组件命名为detail,其中dom加载完毕后我们在钩子函数mounted中进行数据加载

```js
export default {
  name:'Detail'
}，
mounted(){
  this.getInfo();
}，
methods:{
  getInfo(){
     axios.get('/xx/detail.json',{
       params:{
        id:this.$route.params.id 
       }
     }).then(this.getInfoSucc)
   }
 }
```

因为我们在App.vue中使用了keep-alive导致我们第二次进入的时候页面不会重新请求，即触发mounted函数。

 有两个解决方案,一个增加activated()函数,每次进入新页面的时候再获取一次数据。

 还有个方案就是在keep-alive中增加一个过滤，如下图所示：

```html
<div id="app"> 
 <keep-alive exclude="Detail">
  <router-view/>
 </keep-alive>
</div>
```



## DOM做递归组件时需要调用自身name

比如说detail.vue组件里有个list.vue子组件，递归迭代时需要调用自身name

list.vue:

```vue
<div>
    <div v-for="(item,index) of list" :key="index">
      <div>
        <span class="item-title-icon"></span>
        {{item.title}}
      </div>
      <div v-if="item.children" >
        <detail-list :list="item.children"></detail-list>
      </div>
    </div>
 </div>
<script>
export default {
  name:'DetailList',//递归组件是指组件自身调用自身
  props:{
    list:Array
  }
}
</script>
```

list数据：

```js
const list = [{
     "title": "A",
     "children": [{
      "title": "A-A",
      "children": [{
       "title": "A-A-A"
      }]
     },{
        "title": "A-B"
     }]
    }, {
     "title": "B"
    }, {
     "title": "C"
    }, {
     "title": "D"
    }]
```

